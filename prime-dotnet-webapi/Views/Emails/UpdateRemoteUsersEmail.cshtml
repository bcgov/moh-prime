@using Prime.Services
@model EmailParams

@{
  var site = Model.Site;
  var documentUrl = Model.DocumentUrl;
}

<p>
  Notification: The list of Remote Practitioners at @site.PhysicalAddress.Street of
  @site.Organization.Name (PEC: @site.PEC) has been updated. The Remote Practitioners
  at this site are:
</p>

@* Remote Users *@
<h2 class="mb-2">Remote Users</h2>

@foreach(var user in site.RemoteUsers )
{
  <div class="ml-2 mb-2">
    <h5>Name</h5>
    <span class="ml-2">@user.FirstName @user.LastName</span>
  </div>

  @foreach(var location in user.RemoteUserLocations )
  {
    <div class="ml-2 mb-2">
      <strong>Remote Address</strong>
    </div>

    <div class="ml-2 mb-2">
      <h5>Internet Provider</h5>
      <span class="ml-2">@location.InternetProvider</span>
    </div>

    <div class="ml-2 mb-2">
      <h5>Street Address</h5>
      <span class="ml-2">@location.PhysicalAddress.Street</span>
    </div>

    <div class="ml-2 mb-2">
      <h5>City</h5>
      <span class="ml-2">@location.PhysicalAddress.City</span>
    </div>

    <div class="ml-2 mb-2">
      <h5>Provice</h5>
      <span class="ml-2">@location.PhysicalAddress.ProvinceCode</span>
    </div>

    <div class="ml-2 mb-2">
      <h5>Postal Code</h5>
      <span class="ml-2">@location.PhysicalAddress.Postal</span>
    </div>
    <div class="ml-2 mb-2">
      <hr>
    </div>
  }
}

<h2 class="mb-2">Site Information</h2>

<p>
  See the attached registration and organization agreement for more information. To access
  the Business Licence, click this <a href="@documentUrl">link</a>.
</p>
