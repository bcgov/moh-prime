<div class="grad_bg">
  <div class="container mb-1">
    <app-banner></app-banner>
    <div class="row title">
      <div class="col-md-8">
        <div class="t1">Request Ministry of Health approval</div>
        <div class="t1">to access PharmaNet</div>
      </div>
      <div class="col-md-4 logo"
           [class]="(isMobile) ? 'text-left' : ''">
        <span class="logo_title">PRIME</span>
        <app-prime-logo label="none"
                        size="small"></app-prime-logo>
      </div>
    </div>
    <div class="row"
         *ngIf="loginCancelled">
      <div class="col-sm-12">
        <app-alert type="info"
                   icon="error_outline">
          <ng-container #alertTitle
                        class="alert-title">
            Login Cancelled
          </ng-container>
          <ng-container #alertContent
                        class="alert-content">
            <p>You have cancelled your log in to PRIME</p>
            <p>For assistance with PRIME, contact <app-prime-phone></app-prime-phone> or
              <app-prime-support-email></app-prime-support-email>
            <p>
              For assistance logging in with the BC Services Card app, contact the Help Desk
              <a
                target="_blank"
                rel="noopener noreferrer"
                [attr.href]="bcscHelpDeskUrl">
                <u>here</u></a>.
            </p>
          </ng-container>
        </app-alert>
      </div>
    </div>
  </div>
  <div class="container mb-1">
    <div class="row">
      <div class="col-md-4">
        <div class="container mb-1">
          <div class="row">
            <div class="col-md-12 card">
              <img class="individual_graphic"
                   src="/assets/individual_enrolment.png"
                   alt="individual enrolment graphic">
              <div class="card-title">
                Individual Access
              </div>
              <div class="card-text">
                Healthcare professionals are required to enrol with PRIME.
              </div>
              <button mat-flat-button
                      class="button"
                      color="primary"
                      (click)="onEnrolClick()">Enrol now</button>
              <br/>
              <a href="#" class="ml-2" (click)="onAlreadyEnrolledLinkClick($event)">Already enrolled in PRIME <mat-icon class="link_icon">arrow_forward</mat-icon></a>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="container mb-1">
          <div class="row">
            <div class="col-md-12 card">
              <img class="site_graphic"
                   src="/assets/site_registration.png"
                   alt="site registration graphic"
                   #siteGraphicImg>
              <div class="card-title"
                   #siteTitleDiv>Site Registration</div>
              <div class="card-text">Clinical locations using PharmaNet must first be registered in PRIME. Start,
                continue, or
                update a site registration for a private community health practice, community pharmacy,
                or device provider.</div>
              <button mat-flat-button
                      [disabled]="mode === 'health-authority'"
                      class="button"
                      color="primary"
                      (click)="onSiteRegistrationClick()">Continue</button>
              <br/>
              <a href="#" class="ml-2" (click)="onHealthAuthoritySiteRegistrationClick($event)">Register site for a health authority
                <mat-icon *ngIf="mode !== 'health-authority'" class="link_icon material-icons-outlined">add_box</mat-icon>
                <mat-icon *ngIf="mode === 'health-authority'" class="link_icon material-icons-outlined">indeterminate_check_box</mat-icon>
              </a>
              <div *ngIf="mode === 'health-authority'">
                <form [formGroup]="form"
                      novalidate
                      class="card-ha"
                      autocomplete="off">
                  <span class="passcode_label">Enter Passcode</span>
                  <br/>
                  <mat-form-field appearance="outline">
                    <input matInput
                           type="password"
                           class="passcode_input"
                           formControlName="passcode"
                           #passcodeInput>
                    <mat-error *ngIf="passcode.hasError('required')">Required</mat-error>
                    <mat-error *ngIf="passcode.hasError('validPasscode')">Invalid Passcode</mat-error>
                  </mat-form-field>
                  <button mat-flat-button
                          class="button"
                          color="primary"
                          (click)="onPasscodeSubmit()">Continue</button>
                  <button mat-stroked-button
                          class="button"
                          (click)="onPasscodeCancel()">Cancel</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">

      <div class="col-sm-12 col-md-4">
        <div>
          <div class="graphic_container">
            <img class="graphic"
                 src="/assets/mobile_icon.svg"
                 alt="BC Services Card Icon">
          </div>
          <section class="content">
            <h2>BC Services Card App</h2>

            <p>
              To enrol as an individual or register a site in PRIME, you will need to set up the BC Services app on a
              mobile device. Once finished, come back to PRIME and get started.
            </p>
            <a [href]="bcscMobileSetupUrl"
                   target="_blank"
                   class="underline"
                   rel="noopener noreferrer">
                  How to set up the BC Services Card app.
                </a>
            <br/>
            <br/>
            <h2>User Guides</h2>
            <p>
              Review the
              <a class="underline" target="_blank" href="https://www2.gov.bc.ca/gov/content/health/practitioner-professional-resources/pharmacare/pharmanet-bc-s-drug-information-network/prime/prime-user-guides">PRIME user guides</a>
            </p>
          </section>
        </div>
      </div>
      <div class="col-sm-12 col-md-4">
        <div>
          <div class="graphic_container">
            <img class="graphic"
                 src="/assets/individual_enrolment_icon.svg"
                 alt="BC Services Card Icon">
          </div>
          <section class="content">
            <h2>Individual Access</h2>
            <p>
              Enrolling in PRIME only takes a few minutes.
            </p>
            <p>
              If you are a regulated health professional, you will need your BC college information, such as licence
              number or registration number, CPSID or PharmaNet ID, and next renewal date.
            </p>
            <p>
              Once you are approved to access PharmaNet, you will need to email your approval email to the person at
              your workplace who sets up PharmaNet user accounts. They will get you connected to PharmaNet using details
              in the approval email.
            </p>
          </section>
        </div>
      </div>

      <div class="col-sm-12 col-md-4">
        <div>
          <div class="graphic_container">
            <img class="graphic"
                 src="/assets/site_registration_icon.svg"
                 alt="Enrolment Icon">
          </div>
          <section class="content">
            <h2>Site Registration</h2>
            <p>
              If you are authorized to register PharmaNet access sites for your organization or health authority, you
              will need contact details for the site’s:
            </p>
            <ul>
              <li>
                PharmaNet administrator - sets up PharmaNet accounts
              </li>
              <li>
                Privacy officer - responsible for the site’s adherence to privacy and security legislation
              </li>
              <li>
                Technical support - contact in event of technology-related issue. Should be familiar with network
                structure, security mechanisms, and site internet connections.
              </li>
            </ul>
          </section>
        </div>
      </div>
    </div>
    <div class="col-sm-12 support">
      <app-pill>
        <section>
          <h2>Get Support</h2>
          <p>
            Questions about PRIME should be directed to:
            <br>
            <app-prime-phone></app-prime-phone>
            <br>
            <app-prime-support-email></app-prime-support-email>
          </p>
        </section>
      </app-pill>
    </div>
  </div>
</div>
