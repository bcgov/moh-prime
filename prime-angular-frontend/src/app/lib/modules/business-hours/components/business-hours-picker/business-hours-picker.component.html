<section class="mb-3">

  <form (ngSubmit)="onSubmit()"
        [formGroup]="form"
        novalidate>

    <div class="weekdays-container">
      <ng-container *ngFor="let weekday of weekdays.controls; let i = index"
                    formArrayName="weekdays">
        <mat-checkbox [formControlName]="i">{{ i | weekday: 'short' }}</mat-checkbox>
      </ng-container>
    </div>

    <!-- TODO mobile would benefit from multiselect -->
    <!-- <mat-form-field class="w-100">
      <mat-label>Weekdays</mat-label>
      <mat-select multiple>
        <mat-option *ngFor="let weekday of weekdays.controls; let i = index"
                    [value]="i">{{ i | weekday }}</mat-option>
      </mat-select>
    </mat-form-field> -->

    <div class="form-container">
      <ng-container *ngFor="let controlName of ['startTime', 'endTime']; let first = first">
        <mat-form-field>
          <mat-select [formControlName]="controlName">
            <mat-option *ngFor="let hour of hours"
                        [value]="hour.toString()">{{ hour }}:00</mat-option>
          </mat-select>
          <mat-error>Required</mat-error>
        </mat-form-field>

        <!-- TODO remove on mobile and stack fields -->
        <span *ngIf="first" class="px-3">to</span>
      </ng-container>

      <mat-checkbox class="pl-3"
                    formControlName="hours24">24 hours</mat-checkbox>
    </div>

    <button mat-button
            color="primary">
      <mat-icon>add</mat-icon> Add Hours
    </button>

  </form>

</section>
