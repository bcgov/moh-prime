<app-page [busy]="busy">
  <app-page-header>PharmaNet Site Registration</app-page-header>
  <app-site-progress-indicator [inProgress]="!isCompleted"
                               [currentRoute]="SiteRoutes.SIGNING_AUTHORITY"></app-site-progress-indicator>
  <section class="mb-3">

    <app-registrant-profile-form [title]="title"
                                 [form]="form"
                                 (submit)="onSubmit()">



      <ng-container appPageSubheaderSummary>
        The Signing Authority must be a duly authorized representative of the organization with authority to submit
        the
        site request on the organizationâ€™s behalf. This is the individual who will be designated as responsible for
        PharmaNet activities at the location being set up for PharmaNet access (site). This person must be the same
        individual who signs the Organization Agreement for PharmaNet Use. If the site is owned/leased and operated by a
        corporation, the Signing Authority must be legally able to bind the corporation to the terms of this document
        and the Organization Agreement for PharmaNet Use. The Signing Authority must be the same individual for all
        PharmaNet access sites operating under the same organization. The Signing Authority does not need to be a
        PharmaNet user, a member of a regulated health profession, or providing direct patient care at the site. The
        Signing Authority must sign Section 5 (Certification) of the PharmaNet Access Community Practice Site Request
        for new PharmaNet access sites, updates to existing information for a PharmaNet access sites, discontinuing
        current software vendors, or discontinuations of PharmaNet access at a site.
      </ng-container>
    </app-registrant-profile-form>

    <mat-slide-toggle class="mb-3"
                      color="primary"
                      (change)="onPreferredNameChange()"
                      [checked]="hasPreferredName">
      I have a preferred name
    </mat-slide-toggle>
  </section>

  <ng-container *ngIf="hasPreferredName">

    <section class="mb-3">

      <app-page-subheader>
        <ng-container appPageSubheaderTitle>Preferred Name</ng-container>
        <ng-container appPageSubheaderSummary>
          If you have a name that is different than your legal name that people know you by, enter your full
          preferred name.
        </ng-container>
      </app-page-subheader>

      <div class="row">
        <div class="col">

          <mat-form-field class="w-100">
            <input matInput
                   placeholder="Preferred First Name"
                   formControlName="preferredFirstName">
            <mat-error>Required</mat-error>
          </mat-form-field>

        </div>
      </div>
      <div class="row">
        <div class="col">

          <mat-form-field class="w-100">
            <input matInput
                   placeholder="Preferred Middle Name (Optional)"
                   formControlName="preferredMiddleName">
          </mat-form-field>

        </div>
      </div>
      <div class="row">
        <div class="col">

          <mat-form-field class="w-100">
            <input matInput
                   placeholder="Preferred Last Name"
                   formControlName="preferredLastName">
            <mat-error>Required</mat-error>
          </mat-form-field>

        </div>
      </div>

    </section>

  </ng-container>

  <app-page-footer [isInitialEnrolment]="!isCompleted"
                   [hasSecondaryAction]="true"
                   (save)="onSubmit()"
                   (back)="onBack()"></app-page-footer>

</app-page>
