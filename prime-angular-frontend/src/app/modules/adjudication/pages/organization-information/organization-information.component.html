<app-site-registration-container [content]="content"
                                 [hasActions]="hasActions"
                                 [actions]="actions"
                                 [refresh]="refresh">

  <app-page-header>Organization Information</app-page-header>

</app-site-registration-container>

<ng-template #actions
             let-siteRegistration="siteRegistration">

  <button mat-flat-button
          color="primary"
          [disabled]="!siteRegistration"
          [matMenuTriggerFor]="menu">
    Organization Information <mat-icon>keyboard_arrow_down</mat-icon>
  </button>

  <mat-menu #menu>

    <ng-container *ngIf="organizationAgreements?.length; else noAgreement">

      <button *ngFor="let agreement of organizationAgreements"
              mat-menu-item
              [disabled]="!canEdit"
              (click)="viewAgreement(organization, agreement)">
        <span>Download {{ AgreementType[agreement.agreementType] | case: 'snake' : 'space' | capitalize: true }}</span>
      </button>

    </ng-container>

    <ng-template #noAgreement>
      <button mat-menu-item
              [disabled]="true">
        <mat-icon>get_app</mat-icon>
        <span>Download Organization Agreement</span>
      </button>
    </ng-template>

  </mat-menu>

</ng-template>

<ng-template #content>

  <app-overview-container *ngIf="organization"
                          [organization]="organization"
                          [showEditRedirect]="false"></app-overview-container>

</ng-template>
